\section{N:/Documents/RTOS - CSC460/Assignments/Assignment2/Assignment2C/OS/kernel.h File Reference}
\label{kernel_8h}\index{N:/Documents/RTOS - CSC460/Assignments/Assignment2/Assignment2C/OS/kernel.h@{N:/Documents/RTOS - CSC460/Assignments/Assignment2/Assignment2C/OS/kernel.h}}
kernel data structures used in {\bf os.c}{\rm (p.\,\pageref{os_8c})}. 

{\tt \#include $<$avr/io.h$>$}\par
{\tt \#include \char`\"{}os.h\char`\"{}}\par
\subsection*{Data Structures}
\begin{CompactItemize}
\item 
struct {\bf create\_\-args\_\-t}
\begin{CompactList}\small\item\em The arguments required to create a task. \item\end{CompactList}\item 
struct {\bf td\_\-struct}
\begin{CompactList}\small\item\em All the data needed to describe the task, including its context. \item\end{CompactList}\item 
struct {\bf queue\_\-t}
\begin{CompactList}\small\item\em Contains pointers to head and tail of a linked list. \item\end{CompactList}\end{CompactItemize}
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define {\bf CLOCK8MHZ}()~CLKPR = (1$<$$<$CLKPCE); CLKPR = 0x00;
\item 
\#define {\bf F\_\-CPU}~8000000UL
\item 
\#define {\bf Disable\_\-Interrupt}()~asm volatile (\char`\"{}cli\char`\"{}::)
\item 
\#define {\bf Enable\_\-Interrupt}()~asm volatile (\char`\"{}sei\char`\"{}::)
\item 
\#define {\bf MAXNAME}~MAXPROCESS
\item 
\#define {\bf TICK\_\-CYCLES}~(F\_\-CPU / 1000 $\ast$ TICK)
\item 
\#define {\bf LED\_\-RED\_\-MASK}~(uint8\_\-t)(\_\-BV(4) $|$ \_\-BV(7))
\item 
\#define {\bf LED\_\-GREEN\_\-MASK}~(uint8\_\-t)(\_\-BV(5) $|$ \_\-BV(6))
\end{CompactItemize}
\subsection*{Typedefs}
\begin{CompactItemize}
\item 
typedef void($\ast$ {\bf voidfuncvoid\_\-ptr} )(void)
\item 
typedef {\bf td\_\-struct} {\bf task\_\-descriptor\_\-t}
\end{CompactItemize}
\subsection*{Enumerations}
\begin{CompactItemize}
\item 
enum {\bf task\_\-state\_\-t} \{ {\bf DEAD} =  0, 
{\bf RUNNING}, 
{\bf READY}, 
{\bf WAITING}
 \}
\begin{CompactList}\small\item\em This is the set of states that a task can be in at any given time. \item\end{CompactList}\item 
enum {\bf kernel\_\-request\_\-t} \{ \par
{\bf NONE} =  0, 
{\bf TIMER\_\-EXPIRED}, 
{\bf TASK\_\-CREATE}, 
{\bf TASK\_\-TERMINATE}, 
\par
{\bf TASK\_\-NEXT}, 
{\bf TASK\_\-GET\_\-ARG}, 
{\bf EVENT\_\-INIT}, 
{\bf EVENT\_\-WAIT}, 
\par
{\bf EVENT\_\-SIGNAL}, 
{\bf EVENT\_\-BROADCAST}, 
{\bf EVENT\_\-SIGNAL\_\-AND\_\-NEXT}, 
{\bf EVENT\_\-BROADCAST\_\-AND\_\-NEXT}
 \}
\begin{CompactList}\small\item\em This is the set of kernel requests, i.e., a request code for each system call. \item\end{CompactList}\end{CompactItemize}


\subsection{Detailed Description}
kernel data structures used in {\bf os.c}{\rm (p.\,\pageref{os_8c})}. 

CSC 460/560 Real Time Operating Systems - Mantis Cheng

\begin{Desc}
\item[Author:]Scott Craig 

Justin Tanner \end{Desc}


\subsection{Define Documentation}
\index{kernel.h@{kernel.h}!CLOCK8MHZ@{CLOCK8MHZ}}
\index{CLOCK8MHZ@{CLOCK8MHZ}!kernel.h@{kernel.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define CLOCK8MHZ()~CLKPR = (1$<$$<$CLKPCE); CLKPR = 0x00;}\label{kernel_8h_27233a44a4a8fb585f8aff8d4a5ec48c}


Disable default prescaler to make processor speed 8 MHz. \index{kernel.h@{kernel.h}!Disable_Interrupt@{Disable\_\-Interrupt}}
\index{Disable_Interrupt@{Disable\_\-Interrupt}!kernel.h@{kernel.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define Disable\_\-Interrupt()~asm volatile (\char`\"{}cli\char`\"{}::)}\label{kernel_8h_f191103ba7b5db1d681e028e0120f352}


\index{kernel.h@{kernel.h}!Enable_Interrupt@{Enable\_\-Interrupt}}
\index{Enable_Interrupt@{Enable\_\-Interrupt}!kernel.h@{kernel.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define Enable\_\-Interrupt()~asm volatile (\char`\"{}sei\char`\"{}::)}\label{kernel_8h_8b76c3db3d5ee084c90ff0225cd746a6}


\index{kernel.h@{kernel.h}!F_CPU@{F\_\-CPU}}
\index{F_CPU@{F\_\-CPU}!kernel.h@{kernel.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define F\_\-CPU~8000000UL}\label{kernel_8h_43bafb28b29491ec7f871319b5a3b2f8}


\index{kernel.h@{kernel.h}!LED_GREEN_MASK@{LED\_\-GREEN\_\-MASK}}
\index{LED_GREEN_MASK@{LED\_\-GREEN\_\-MASK}!kernel.h@{kernel.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define LED\_\-GREEN\_\-MASK~(uint8\_\-t)(\_\-BV(5) $|$ \_\-BV(6))}\label{kernel_8h_585dde11706a53b5e3ece925496dc96d}


LEDs for {\bf OS\_\-Abort()}{\rm (p.\,\pageref{os_8c_b5747390a8be675282cb93e5198bd085})} \index{kernel.h@{kernel.h}!LED_RED_MASK@{LED\_\-RED\_\-MASK}}
\index{LED_RED_MASK@{LED\_\-RED\_\-MASK}!kernel.h@{kernel.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define LED\_\-RED\_\-MASK~(uint8\_\-t)(\_\-BV(4) $|$ \_\-BV(7))}\label{kernel_8h_a829d3ad38c6bb1818091cd1079e8c25}


LEDs for {\bf OS\_\-Abort()}{\rm (p.\,\pageref{os_8c_b5747390a8be675282cb93e5198bd085})} \index{kernel.h@{kernel.h}!MAXNAME@{MAXNAME}}
\index{MAXNAME@{MAXNAME}!kernel.h@{kernel.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define MAXNAME~MAXPROCESS}\label{kernel_8h_c881f02a50b29d3ffa5b1f4a0e4f9568}


The maximum number of names. Currently the same as the number of tasks. \index{kernel.h@{kernel.h}!TICK_CYCLES@{TICK\_\-CYCLES}}
\index{TICK_CYCLES@{TICK\_\-CYCLES}!kernel.h@{kernel.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define TICK\_\-CYCLES~(F\_\-CPU / 1000 $\ast$ TICK)}\label{kernel_8h_e8bd5ed849336321571c36fd6b820a36}


The number of clock cycles in one \char`\"{}tick\char`\"{} or 5 ms 

\subsection{Typedef Documentation}
\index{kernel.h@{kernel.h}!task_descriptor_t@{task\_\-descriptor\_\-t}}
\index{task_descriptor_t@{task\_\-descriptor\_\-t}!kernel.h@{kernel.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf td\_\-struct} {\bf task\_\-descriptor\_\-t}}\label{kernel_8h_d7f82f8defd3aacf359fc6e96a298632}


\index{kernel.h@{kernel.h}!voidfuncvoid_ptr@{voidfuncvoid\_\-ptr}}
\index{voidfuncvoid_ptr@{voidfuncvoid\_\-ptr}!kernel.h@{kernel.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ {\bf voidfuncvoid\_\-ptr})(void)}\label{kernel_8h_7f905d588e73f00a4486c43ebfd638d4}




\subsection{Enumeration Type Documentation}
\index{kernel.h@{kernel.h}!kernel_request_t@{kernel\_\-request\_\-t}}
\index{kernel_request_t@{kernel\_\-request\_\-t}!kernel.h@{kernel.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}enum {\bf kernel\_\-request\_\-t}}\label{kernel_8h_e7246a4cf8c61132898e7e1f8bbccdd2}


This is the set of kernel requests, i.e., a request code for each system call. 

\begin{Desc}
\item[Enumerator: ]\par
\begin{description}
\index{NONE@{NONE}!kernel.h@{kernel.h}}\index{kernel.h@{kernel.h}!NONE@{NONE}}\item[{\em 
NONE\label{kernel_8h_e7246a4cf8c61132898e7e1f8bbccdd2c157bdf0b85a40d2619cbc8bc1ae5fe2}
}]\index{TIMER_EXPIRED@{TIMER\_\-EXPIRED}!kernel.h@{kernel.h}}\index{kernel.h@{kernel.h}!TIMER_EXPIRED@{TIMER\_\-EXPIRED}}\item[{\em 
TIMER\_\-EXPIRED\label{kernel_8h_e7246a4cf8c61132898e7e1f8bbccdd23f7dfaf7da5fe41b45c88dc401ca54d1}
}]\index{TASK_CREATE@{TASK\_\-CREATE}!kernel.h@{kernel.h}}\index{kernel.h@{kernel.h}!TASK_CREATE@{TASK\_\-CREATE}}\item[{\em 
TASK\_\-CREATE\label{kernel_8h_e7246a4cf8c61132898e7e1f8bbccdd258baca34ed4e31676064831adc74e5f3}
}]\index{TASK_TERMINATE@{TASK\_\-TERMINATE}!kernel.h@{kernel.h}}\index{kernel.h@{kernel.h}!TASK_TERMINATE@{TASK\_\-TERMINATE}}\item[{\em 
TASK\_\-TERMINATE\label{kernel_8h_e7246a4cf8c61132898e7e1f8bbccdd27a12162c016fe28f1dcf212261e64058}
}]\index{TASK_NEXT@{TASK\_\-NEXT}!kernel.h@{kernel.h}}\index{kernel.h@{kernel.h}!TASK_NEXT@{TASK\_\-NEXT}}\item[{\em 
TASK\_\-NEXT\label{kernel_8h_e7246a4cf8c61132898e7e1f8bbccdd2b0b5588ea5ae795c1ebcfee34fc9d2ef}
}]\index{TASK_GET_ARG@{TASK\_\-GET\_\-ARG}!kernel.h@{kernel.h}}\index{kernel.h@{kernel.h}!TASK_GET_ARG@{TASK\_\-GET\_\-ARG}}\item[{\em 
TASK\_\-GET\_\-ARG\label{kernel_8h_e7246a4cf8c61132898e7e1f8bbccdd20a4a8fcf1ccb47b2aa34fd9a030b4b53}
}]\index{EVENT_INIT@{EVENT\_\-INIT}!kernel.h@{kernel.h}}\index{kernel.h@{kernel.h}!EVENT_INIT@{EVENT\_\-INIT}}\item[{\em 
EVENT\_\-INIT\label{kernel_8h_e7246a4cf8c61132898e7e1f8bbccdd2dbf8902d567f0cc7ca77232f46142a0d}
}]\index{EVENT_WAIT@{EVENT\_\-WAIT}!kernel.h@{kernel.h}}\index{kernel.h@{kernel.h}!EVENT_WAIT@{EVENT\_\-WAIT}}\item[{\em 
EVENT\_\-WAIT\label{kernel_8h_e7246a4cf8c61132898e7e1f8bbccdd28b53f4ea700f5763de889e6467270ef8}
}]\index{EVENT_SIGNAL@{EVENT\_\-SIGNAL}!kernel.h@{kernel.h}}\index{kernel.h@{kernel.h}!EVENT_SIGNAL@{EVENT\_\-SIGNAL}}\item[{\em 
EVENT\_\-SIGNAL\label{kernel_8h_e7246a4cf8c61132898e7e1f8bbccdd2cc68c387b0b1cc2a99d3779b89e424f1}
}]\index{EVENT_BROADCAST@{EVENT\_\-BROADCAST}!kernel.h@{kernel.h}}\index{kernel.h@{kernel.h}!EVENT_BROADCAST@{EVENT\_\-BROADCAST}}\item[{\em 
EVENT\_\-BROADCAST\label{kernel_8h_e7246a4cf8c61132898e7e1f8bbccdd261e0a035dab687e40891b923c1d9c629}
}]\index{EVENT_SIGNAL_AND_NEXT@{EVENT\_\-SIGNAL\_\-AND\_\-NEXT}!kernel.h@{kernel.h}}\index{kernel.h@{kernel.h}!EVENT_SIGNAL_AND_NEXT@{EVENT\_\-SIGNAL\_\-AND\_\-NEXT}}\item[{\em 
EVENT\_\-SIGNAL\_\-AND\_\-NEXT\label{kernel_8h_e7246a4cf8c61132898e7e1f8bbccdd238cf76520d085c885231e537aaac1aff}
}]\index{EVENT_BROADCAST_AND_NEXT@{EVENT\_\-BROADCAST\_\-AND\_\-NEXT}!kernel.h@{kernel.h}}\index{kernel.h@{kernel.h}!EVENT_BROADCAST_AND_NEXT@{EVENT\_\-BROADCAST\_\-AND\_\-NEXT}}\item[{\em 
EVENT\_\-BROADCAST\_\-AND\_\-NEXT\label{kernel_8h_e7246a4cf8c61132898e7e1f8bbccdd2086605ab5493aaf7c49f2a3d9d167efe}
}]\end{description}
\end{Desc}

\index{kernel.h@{kernel.h}!task_state_t@{task\_\-state\_\-t}}
\index{task_state_t@{task\_\-state\_\-t}!kernel.h@{kernel.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}enum {\bf task\_\-state\_\-t}}\label{kernel_8h_2cb84aa57ac273f4df157cfb2927322b}


This is the set of states that a task can be in at any given time. 

\begin{Desc}
\item[Enumerator: ]\par
\begin{description}
\index{DEAD@{DEAD}!kernel.h@{kernel.h}}\index{kernel.h@{kernel.h}!DEAD@{DEAD}}\item[{\em 
DEAD\label{kernel_8h_2cb84aa57ac273f4df157cfb2927322b11fd9ca455f92c69c084484d5cd803c2}
}]\index{RUNNING@{RUNNING}!kernel.h@{kernel.h}}\index{kernel.h@{kernel.h}!RUNNING@{RUNNING}}\item[{\em 
RUNNING\label{kernel_8h_2cb84aa57ac273f4df157cfb2927322b1061be6c3fb88d32829cba6f6b2be304}
}]\index{READY@{READY}!kernel.h@{kernel.h}}\index{kernel.h@{kernel.h}!READY@{READY}}\item[{\em 
READY\label{kernel_8h_2cb84aa57ac273f4df157cfb2927322b6564f2f3e15be06b670547bbcaaf0798}
}]\index{WAITING@{WAITING}!kernel.h@{kernel.h}}\index{kernel.h@{kernel.h}!WAITING@{WAITING}}\item[{\em 
WAITING\label{kernel_8h_2cb84aa57ac273f4df157cfb2927322b757971c0bc5a1972d5f1b1be2c0e2087}
}]\end{description}
\end{Desc}

